{"version":3,"file":null,"sources":["/home/andreas/Documents/blog/node_modules/performance-now/lib/performance-now.js","/home/andreas/Documents/blog/node_modules/raf/index.js","/home/andreas/Documents/blog/node_modules/promise-polyfill/promise.js","/home/andreas/Documents/blog/src/index.js"],"sourcesContent":["// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function() {\n  root.requestAnimationFrame = raf\n  root.cancelAnimationFrame = caf\n}\n","(function (root) {\n\n  // Store setTimeout reference so promise-polyfill will be unaffected by\n  // other code modifying setTimeout (like sinon.useFakeTimers())\n  var setTimeoutFunc = setTimeout;\n\n  function noop() {\n  }\n\n  // Use polyfill for setImmediate for performance gains\n  var asap = (typeof setImmediate === 'function' && setImmediate) ||\n    function (fn) {\n      setTimeoutFunc(fn, 1);\n    };\n\n  var onUnhandledRejection = function onUnhandledRejection(err) {\n    if (typeof console !== 'undefined' && console) {\n      console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n    }\n  };\n\n  // Polyfill for Function.prototype.bind\n  function bind(fn, thisArg) {\n    return function () {\n      fn.apply(thisArg, arguments);\n    };\n  }\n\n  function Promise(fn) {\n    if (typeof this !== 'object') throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function') throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n\n    doResolve(fn, this);\n  }\n\n  function handle(self, deferred) {\n    while (self._state === 3) {\n      self = self._value;\n    }\n    if (self._state === 0) {\n      self._deferreds.push(deferred);\n      return;\n    }\n    self._handled = true;\n    asap(function () {\n      var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n      if (cb === null) {\n        (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n        return;\n      }\n      var ret;\n      try {\n        ret = cb(self._value);\n      } catch (e) {\n        reject(deferred.promise, e);\n        return;\n      }\n      resolve(deferred.promise, ret);\n    });\n  }\n\n  function resolve(self, newValue) {\n    try {\n      // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n      if (newValue === self) throw new TypeError('A promise cannot be resolved with itself.');\n      if (newValue && (typeof newValue === 'object' || typeof newValue === 'function')) {\n        var then = newValue.then;\n        if (newValue instanceof Promise) {\n          self._state = 3;\n          self._value = newValue;\n          finale(self);\n          return;\n        } else if (typeof then === 'function') {\n          doResolve(bind(then, newValue), self);\n          return;\n        }\n      }\n      self._state = 1;\n      self._value = newValue;\n      finale(self);\n    } catch (e) {\n      reject(self, e);\n    }\n  }\n\n  function reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n  }\n\n  function finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n      asap(function() {\n        if (!self._handled) {\n          onUnhandledRejection(self._value);\n        }\n      });\n    }\n\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n      handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n  }\n\n  function Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n  }\n\n  /**\n   * Take a potentially misbehaving resolver function and make sure\n   * onFulfilled and onRejected are only called once.\n   *\n   * Makes no guarantees about asynchrony.\n   */\n  function doResolve(fn, self) {\n    var done = false;\n    try {\n      fn(function (value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      }, function (reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      });\n    } catch (ex) {\n      if (done) return;\n      done = true;\n      reject(self, ex);\n    }\n  }\n\n  Promise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n  };\n\n  Promise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new (this.constructor)(noop);\n\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n  };\n\n  Promise.all = function (arr) {\n    var args = Array.prototype.slice.call(arr);\n\n    return new Promise(function (resolve, reject) {\n      if (args.length === 0) return resolve([]);\n      var remaining = args.length;\n\n      function res(i, val) {\n        try {\n          if (val && (typeof val === 'object' || typeof val === 'function')) {\n            var then = val.then;\n            if (typeof then === 'function') {\n              then.call(val, function (val) {\n                res(i, val);\n              }, reject);\n              return;\n            }\n          }\n          args[i] = val;\n          if (--remaining === 0) {\n            resolve(args);\n          }\n        } catch (ex) {\n          reject(ex);\n        }\n      }\n\n      for (var i = 0; i < args.length; i++) {\n        res(i, args[i]);\n      }\n    });\n  };\n\n  Promise.resolve = function (value) {\n    if (value && typeof value === 'object' && value.constructor === Promise) {\n      return value;\n    }\n\n    return new Promise(function (resolve) {\n      resolve(value);\n    });\n  };\n\n  Promise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n      reject(value);\n    });\n  };\n\n  Promise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n      for (var i = 0, len = values.length; i < len; i++) {\n        values[i].then(resolve, reject);\n      }\n    });\n  };\n\n  /**\n   * Set the immediate function to execute callbacks\n   * @param fn {function} Function to execute\n   * @private\n   */\n  Promise._setImmediateFn = function _setImmediateFn(fn) {\n    asap = fn;\n  };\n\n  Promise._setUnhandledRejectionFn = function _setUnhandledRejectionFn(fn) {\n    onUnhandledRejection = fn;\n  };\n\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = Promise;\n  } else if (!root.Promise) {\n    root.Promise = Promise;\n  }\n\n})(this);\n","import raf from 'raf';\nimport Promise from 'promise-polyfill';\n\nlet running = false;\n\nconst animateTitle = function(el) {\n  return Promise.resolve();\n};\n\nconst hideStuff = function(els) {\n  const promises = els.map((el) => {\n    return new Promise((resolve) => {\n      el.style.opacity = 1;\n\n      (function fade() {\n        el.style.opacity -= 0.05;\n\n        if (el.style.opacity > 0) {\n          raf(fade);\n        }\n        else {\n          resolve();\n        }\n      })();\n    });\n  });\n\n  return Promise.all(promises);\n};\n\nconst findEverythingElse = function(el) {\n  const rv = [];\n\n  while (!el.classList.contains('container')) {\n    const current = el;\n    el = el.parentNode;\n\n    Array.prototype.forEach.call(el.children, (child) => {\n      if (child !== current) {\n        rv.push(child);\n      }\n    });\n  }\n\n  return Promise.resolve(\n    Array.prototype.slice.apply(rv)\n  );\n};\n\ndocument.addEventListener('click', (e) => {\n  if (e.target.classList.contains('article-link')) {\n    e.preventDefault();\n\n    if (running) {\n      return;\n    }\n\n    running = true;\n\n    findEverythingElse(e.target)\n      .then(hideStuff)\n      .then(() => location.href = e.target.href);\n  }\n}, true);\n"],"names":["getNanoSeconds","hrtime","loadTime","performance","now","exports","process","hr","Date","getTime","call","this","require$$0","root","window","global","vendors","suffix","raf","caf","i","length","last","id","queue","frameDuration","callback","_now","next","Math","max","cp","slice","cancelled","e","round","push","handle","fn","cancel","apply","arguments","polyfill","requestAnimationFrame","cancelAnimationFrame","noop","bind","thisArg","Promise","babelHelpers","TypeError","_state","_handled","_value","undefined","_deferreds","self","deferred","cb","onFulfilled","onRejected","resolve","reject","promise","ret","newValue","then","finale","len","Handler","doResolve","done","value","reason","ex","setTimeoutFunc","setTimeout","asap","setImmediate","onUnhandledRejection","err","console","warn","prototype","prom","constructor","all","arr","args","Array","res","val","remaining","race","values","_setImmediateFn","_setUnhandledRejectionFn","module","running","hideStuff","els","promises","map","el","style","opacity","fade","findEverythingElse","rv","current","parentNode","forEach","children","child","classList","contains","document","addEventListener","target","preventDefault","location","href"],"mappings":"idAEMA,GAAgBC,EAAQC,CAEA,oBAAhBC,cAA+C,OAAhBA,aAAyBA,YAAYC,MACvEC,QAAU,iBACRF,aAAYC,OAEQ,mBAAZE,UAAuC,OAAZA,SAAqBA,QAAQL,UAClEI,QAAU,kBACPL,IAAmBE,GAAY,OAEhCI,QAAQL,SACA,cACXM,YACCN,IACU,IAARM,EAAG,GAAWA,EAAG,MAEfP,KACFQ,KAAKJ,OACPC,QAAU,iBACRG,MAAKJ,MAAQF,KAEXM,KAAKJ,UAETC,QAAU,kBACR,GAAIG,OAAOC,UAAYP,MAErB,GAAIM,OAAOC,aAGvBC,KAAKC,6PCxBJ,GAPAP,GAAMQ,WACNC,EAAyB,mBAAXC,QAAyBC,EAASD,OAChDE,GAAW,MAAO,UAClBC,EAAS,iBACTC,EAAML,EAAK,UAAYI,GACvBE,EAAMN,EAAK,SAAWI,IAAWJ,EAAK,gBAAkBI,GAEpDG,EAAI,GAAIF,GAAOE,EAAIJ,EAAQK,OAAQD,MACnCP,EAAKG,EAAQI,GAAK,UAAYH,KAC9BJ,EAAKG,EAAQI,GAAK,SAAWH,IAC5BJ,EAAKG,EAAQI,GAAK,gBAAkBH,OAIzCC,IAAQC,EAAK,IACXG,GAAO,EACPC,EAAK,EACLC,KACAC,EAAgB,IAAO,KAErB,SAASC,MACO,IAAjBF,EAAMH,OAAc,IACjBM,GAAOvB,IACPwB,EAAOC,KAAKC,IAAI,EAAGL,GAAiBE,EAAOL,MACxCM,EAAOD,aACH,cACLI,GAAKP,EAAMQ,MAAM,KAIfX,OAAS,MACX,GAAID,GAAI,EAAGA,EAAIW,EAAGV,OAAQD,QACxBW,EAAGX,GAAGa,gBAEHb,GAAGM,SAASJ,GACf,MAAMY,cACK,gBAAmBA,IAAK,KAIxCL,KAAKM,MAAMP,aAEVQ,eACMb,WACAG,aACC,IAENH,KAGH,SAASc,OACT,GAAIjB,GAAI,EAAGA,EAAII,EAAMH,OAAQD,IAC5BI,EAAMJ,GAAGiB,SAAWA,MACfjB,GAAGa,WAAY,MAMtB5B,QAAU,SAASiC,SAIjBpB,GAAIR,KAAKG,EAAMyB,MAEjBjC,QAAQkC,OAAS,aAClBC,MAAM3B,EAAM4B,cAEXpC,QAAQqC,SAAW,aACnBC,sBAAwBzB,IACxB0B,qBAAuBzB,wLCtEnBN,WAMAgC,cAgBAC,GAAKR,EAAIS,SACT,cACFP,MAAMO,EAASN,oBAIbO,GAAQV,MACK,WAAhBW,aAAAA,UAAOtC,MAAmB,KAAM,IAAIuC,WAAU,2CAChC,kBAAPZ,GAAmB,KAAM,IAAIY,WAAU,uBAC7CC,OAAS,OACTC,UAAW,OACXC,OAASC,YACTC,gBAEKjB,EAAI3B,cAGP0B,GAAOmB,EAAMC,QACG,IAAhBD,EAAKL,UACHK,EAAKH,aAEM,KAAhBG,EAAKL,cACFI,WAAWnB,KAAKqB,MAGlBL,UAAW,SACX,cACCM,GAAqB,IAAhBF,EAAKL,OAAeM,EAASE,YAAcF,EAASG,cAClD,OAAPF,cACe,IAAhBF,EAAKL,OAAeU,EAAUC,GAAQL,EAASM,QAASP,EAAKH,WAG5DW,SAEIN,EAAGF,EAAKH,QACd,MAAOnB,iBACAuB,EAASM,QAAS7B,KAGnBuB,EAASM,QAASC,cAIrBH,GAAQL,EAAMS,UAGfA,IAAaT,EAAM,KAAM,IAAIN,WAAU,gDACvCe,IAAiC,+BAAbA,sCAAAA,KAA6C,kBAAbA,IAA0B,IAC5EC,GAAOD,EAASC,QAChBD,YAAoBjB,YACjBG,OAAS,IACTE,OAASY,SACPT,EAEF,IAAoB,kBAATU,iBACNpB,EAAKoB,EAAMD,GAAWT,KAI/BL,OAAS,IACTE,OAASY,IACPT,GACP,MAAOtB,KACAsB,EAAMtB,YAIR4B,GAAON,EAAMS,KACfd,OAAS,IACTE,OAASY,IACPT,WAGAW,GAAOX,GACM,IAAhBA,EAAKL,QAA2C,IAA3BK,EAAKD,WAAWlC,UAClC,WACEmC,EAAKJ,YACaI,EAAKH,cAK3B,GAAIjC,GAAI,EAAGgD,EAAMZ,EAAKD,WAAWlC,OAAY+C,EAAJhD,EAASA,MAC9CoC,EAAMA,EAAKD,WAAWnC,MAE1BmC,WAAa,aAGXc,GAAQV,EAAaC,EAAYG,QACnCJ,YAAqC,kBAAhBA,GAA6BA,EAAc,UAChEC,WAAmC,kBAAfA,GAA4BA,EAAa,UAC7DG,QAAUA,UASRO,GAAUhC,EAAIkB,MACjBe,IAAO,QAEN,SAAUC,GACPD,OACG,IACCf,EAAMgB,KACb,SAAUC,GACPF,OACG,IACAf,EAAMiB,MAEf,MAAOC,MACHH,EAAM,UACH,IACAf,EAAMkB,OArIbC,GAAiBC,WAMjBC,EAAgC,kBAAjBC,eAA+BA,cAChD,SAAUxC,KACOA,EAAI,IAGnByC,EAAuB,SAA8BC,GAChC,mBAAZC,UAA2BA,iBAC5BC,KAAK,wCAAyCF,MA4HlDG,UAAU,SAAW,SAAUvB,SAC9BjD,MAAKuD,KAAK,KAAMN,MAGjBuB,UAAUjB,KAAO,SAAUP,EAAaC,MAC1CwB,GAAO,GAAKzE,MAAK0E,YAAaxC,YAE3BlC,KAAM,GAAI0D,GAAQV,EAAaC,EAAYwB,IAC3CA,KAGDE,IAAM,SAAUC,MAClBC,GAAOC,MAAMN,UAAUnD,MAAMtB,KAAK6E,SAE/B,IAAIvC,GAAQ,SAAUa,EAASC,WAI3B4B,GAAItE,EAAGuE,UAERA,IAAuB,+BAARA,sCAAAA,KAAmC,kBAARA,IAAqB,IAC7DzB,GAAOyB,EAAIzB,QACK,kBAATA,iBACJxD,KAAKiF,EAAK,SAAUA,KACnBvE,EAAGuE,IACN7B,KAIF1C,GAAKuE,EACU,MAAdC,KACIJ,GAEV,MAAOd,KACAA,OAnBS,IAAhBc,EAAKnE,OAAc,MAAOwC,WAuBzB,GAtBD+B,GAAYJ,EAAKnE,OAsBZD,EAAI,EAAGA,EAAIoE,EAAKnE,OAAQD,MAC3BA,EAAGoE,EAAKpE,SAKVyC,QAAU,SAAUW,SACtBA,IAA0B,+BAAVA,sCAAAA,KAAsBA,EAAMa,cAAgBrC,EACvDwB,EAGF,GAAIxB,GAAQ,SAAUa,KACnBW,QAIJV,OAAS,SAAUU,SAClB,IAAIxB,GAAQ,SAAUa,EAASC,KAC7BU,QAIHqB,KAAO,SAAUC,SAChB,IAAI9C,GAAQ,SAAUa,EAASC,OAC/B,GAAI1C,GAAI,EAAGgD,EAAM0B,EAAOzE,OAAY+C,EAAJhD,EAASA,MACrCA,GAAG8C,KAAKL,EAASC,QAUtBiC,gBAAkB,SAAyBzD,KAC1CA,KAGD0D,yBAA2B,SAAkC1D,KAC5CA,GAGH,mBAAX2D,IAA0BA,EAAO5F,UACnCA,QAAU2C,EACPnC,EAAKmC,YACVA,QAAUA,IAGhBrC,2KCjOCuF,SAAU,EAMRC,UAAY,SAASC,MACnBC,GAAWD,EAAIE,IAAI,SAACC,SACjB,IAAIvD,SAAQ,SAACa,KACf2C,MAAMC,QAAU,UAETC,OACLF,MAAMC,SAAW,IAEhBF,EAAGC,MAAMC,QAAU,MACjBC,oBASL1D,SAAQsC,IAAIe,IAGfM,mBAAqB,SAASJ,UAC5BK,sBAGEC,GAAUN,IACXA,EAAGO,iBAEF3B,UAAU4B,QAAQrG,KAAK6F,EAAGS,SAAU,SAACC,GACrCA,IAAUJ,KACTzE,KAAK6E,OANNV,EAAGW,UAAUC,SAAS,wBAWvBnE,SAAQa,QACb4B,MAAMN,UAAUnD,MAAMQ,MAAMoE,IAIhCQ,UAASC,iBAAiB,QAAS,SAACnF,MAC9BA,EAAEoF,OAAOJ,UAAUC,SAAS,gBAAiB,MAC7CI,iBAEErB,wBAIM,qBAEShE,EAAEoF,QAClBpD,KAAKiC,WACLjC,KAAK,iBAAMsD,UAASC,KAAOvF,EAAEoF,OAAOG,UAExC"}